<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cloud SIEM — Portal</title>
    <!-- Fonts & Icons -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="styles.css" />
    <!-- Iconos de Bootstrap para detalles visuales -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>

  <body>
    <!-- Sidebar Navigation -->
    <aside class="sidebar">
      <h2><i class="bi bi-cloud-lock"></i> Cloud SIEM</h2>
      <a class="nav-link active" data-target="dashboardPage"><i class="bi bi-speedometer2"></i> Dashboard</a>
      <a class="nav-link" data-target="signalsPage"><i class="bi bi-shield-exclamation"></i> Señales</a>
      <a class="nav-link" data-target="investigationsPage"><i class="bi bi-search"></i> Investigaciones</a>
      <a class="nav-link" data-target="coveragePage"><i class="bi bi-diagram-3"></i> Cobertura</a>
      <a class="nav-link" data-target="settingsPage"><i class="bi bi-gear"></i> Configuración</a>
    </aside>

    <!-- Main Content -->
    <main class="main">
      <!-- DASHBOARD PAGE -->
      <section id="dashboardPage" class="page active">
        <header>
          <h1>Resumen Ejecutivo — Phishing (24 h)</h1>
          <button id="refreshBtn"><i class="bi bi-arrow-repeat"></i> Actualizar</button>
        </header>

        <!-- KPI Cards -->
        <section class="kpi-grid">
          <article class="card"><small>Total alertas phishing</small><div class="kpi-value" id="kpi-total">238</div><small><span class="pill danger">+12 %</span></small></article>
          <article class="card"><small>Crítica / Alta / Media / Baja</small><div class="kpi-value" id="kpi-severity">14 / 57 / 92 / 75</div><small>Distribución</small></article>
          <article class="card"><small>% correcciones automáticas</small><div class="kpi-value" id="kpi-auto">61 %</div><small><span class="pill success">Objetivo ≥ 50 %</span></small></article>
          <article class="card"><small>MTTC</small><div class="kpi-value" id="kpi-mttc">3 m 46 s</div><small>Contención media</small></article>
        </section>

        <!-- Charts -->
        <section class="charts">
          <article class="card chart-card"><canvas id="alertsChart"></canvas></article>
          <article class="card chart-card"><canvas id="severityChart"></canvas></article>
        </section>

        <!-- Top senders table -->
        <section style="margin-top:2.5rem;">
          <article class="card table-card">
            <h3>Dominios remitentes maliciosos</h3>
            <table>
              <thead><tr><th>Dominio</th><th>Intentos</th><th>Primera</th><th>Última</th></tr></thead>
              <tbody id="sendersTable">
                <tr><td>phish-update.com</td><td>43</td><td>08:14</td><td>17:02</td></tr>
                <tr><td>login-alerts.co</td><td>37</td><td>10:55</td><td>16:40</td></tr>
                <tr><td>secure-mail.net</td><td>22</td><td>09:31</td><td>13:18</td></tr>
                <tr><td>office365-help.io</td><td>15</td><td>07:26</td><td>12:47</td></tr>
              </tbody>
            </table>
          </article>
        </section>
      </section>

      <!-- SIGNALS PAGE -->
      <section id="signalsPage" class="page">
        <header><h1>Señales de Seguridad</h1></header>
        <article class="card table-card">
          <h3>Últimas señales</h3>
          <table>
            <thead><tr><th>ID</th><th>Descripción</th><th>Severidad</th><th>Estado</th><th>Hace</th></tr></thead>
            <tbody>
              <tr><td>#9842</td><td>Login sospechoso desde RU</td><td><span class="pill danger">Alta</span></td><td>Abierta</td><td>2 min</td></tr>
              <tr><td>#9839</td><td>Correo phishing a HR</td><td><span class="pill">Media</span></td><td>En curso</td><td>12 min</td></tr>
              <tr><td>#9827</td><td>IP en blacklist accedió a API</td><td><span class="pill danger">Crítica</span></td><td>Contenida</td><td>45 min</td></tr>
            </tbody>
          </table>
        </article>
      </section>

      <!-- INVESTIGATIONS PAGE -->
      <section id="investigationsPage" class="page">
        <header><h1>Investigaciones</h1></header>
        <section class="kpi-grid">
          <article class="card"><small>Investigaciones activas</small><div class="kpi-value">8</div></article>
          <article class="card"><small>Promedio de duración</small><div class="kpi-value">1 d 4 h</div></article>
          <article class="card"><small>Casos cerrados (30 d)</small><div class="kpi-value">26</div></article>
        </section>
        <article class="card table-card" style="margin-top:2rem;">
          <h3>Investigaciones recientes</h3>
          <table>
            <thead><tr><th>Nombre</th><th>Analista</th><th>Inicio</th><th>Estado</th></tr></thead>
            <tbody>
              <tr><td>Phish-APR-26</td><td>A. Martínez</td><td>26 Abr</td><td>En progreso</td></tr>
              <tr><td>OAuth abuse</td><td>L. Torres</td><td>25 Abr</td><td>Pendiente evidencias</td></tr>
              <tr><td>Credential Stuffing</td><td>G. Díaz</td><td>23 Abr</td><td>Cerrada</td></tr>
            </tbody>
          </table>
        </article>
      </section>

      <!-- COVERAGE PAGE -->
      <section id="coveragePage" class="page">
        <header><h1>Cobertura de Seguridad</h1></header>
        <article class="card" style="margin-bottom:1.5rem;">
          <small>Reglas activas</small>
          <div class="kpi-value">124</div>
          <small>Incluye correo, web, endpoint, red</small>
        </article>
        <article class="card chart-card">
          <canvas id="coverageChart"></canvas>
        </article>
      </section>

      <!-- SETTINGS PAGE -->
      <section id="settingsPage" class="page">
        <header><h1>Configuración</h1></header>
        <form class="card" style="max-width:480px;">
          <label class="form-label">Notificar a Slack</label>
          <input type="email" class="form-input" placeholder="webhook@tuempresa.com" />
          <label class="form-label">Umbral de alerta crítica (nº/h)</label>
          <input type="number" class="form-input" value="10" />
          <button type="button" class="main-btn"><i class="bi bi-save"></i> Guardar cambios</button>
        </form>
      </section>
    </main>

    <!-- Scripts -->
    <script src="main.js"></script>
  </body>
</html>